{"ast":null,"code":"import React,{useEffect}from\"react\";import{useTranslation}from'react-i18next';import useLocalStorage from'../../hooks/use-localstorage';import i18n from'../../i18n';import{changeLanguage}from\"i18next\";import LanguageSwitcher from\"../LanguageSwitcher/LanguageSwitcher\";import'../Projects/projects.css';function Menu(){useEffect(()=>{const menuBody=document.querySelector(\".menu__body\");const iconMenu=document.querySelector(\".menu__icon\");const handleClick=e=>{document.body.classList.toggle(\"_lock\");iconMenu.classList.toggle(\"_active\");menuBody.classList.toggle(\"_active\");};if(iconMenu&&menuBody){iconMenu.addEventListener(\"click\",handleClick);}return()=>{if(iconMenu&&menuBody){iconMenu.removeEventListener(\"click\",handleClick);}};},[]);// определение типа экрана\nconst isMobile={Android:function(){return navigator.userAgent.match(/Android/i);},Blackberry:function(){return navigator.userAgent.match(/Blackberry/i);},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera:function(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return isMobile.Android()||isMobile.Blackberry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows();}};if(isMobile.any()){document.body.classList.add(\"_touch\");}else{document.body.classList.add(\"_pc\");}useEffect(()=>{const menuLinks=document.querySelectorAll('.menu__link[data-goto]');if(menuLinks.length>0){menuLinks.forEach(menuLink=>{menuLink.addEventListener('click',onMenuLinkClick);});return()=>{menuLinks.forEach(menuLink=>{menuLink.removeEventListener('click',onMenuLinkClick);});};}},[]);// Зависимость пуста, чтобы useEffect выполнялся только один раз при монтировании компонента\nfunction onMenuLinkClick(e){const menuLink=e.target;if(menuLink.dataset.goto){const gotoBlock=document.querySelector(menuLink.dataset.goto);if(gotoBlock){const gotoBlockValue=gotoBlock.getBoundingClientRect().top+window.scrollY-document.querySelector(\"header\").offsetHeight;window.scrollTo({top:gotoBlockValue,behavior:\"smooth\"});e.preventDefault();}}};const{t,i18n}=useTranslation();return/*#__PURE__*/React.createElement(\"div\",{className:\"header__menu menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu__icon\"},/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"nav\",{className:\"menu__body\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"menu__list\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(LanguageSwitcher,{i18n:i18n})))));}export default Menu;","map":{"version":3,"names":["React","useEffect","useTranslation","useLocalStorage","i18n","changeLanguage","LanguageSwitcher","Menu","menuBody","document","querySelector","iconMenu","handleClick","e","body","classList","toggle","addEventListener","removeEventListener","isMobile","Android","navigator","userAgent","match","Blackberry","iOS","Opera","Windows","any","add","menuLinks","querySelectorAll","length","forEach","menuLink","onMenuLinkClick","target","dataset","goto","gotoBlock","gotoBlockValue","getBoundingClientRect","top","window","scrollY","offsetHeight","scrollTo","behavior","preventDefault","t","createElement","className"],"sources":["/Users/dmitriy_kuznetsov/Desktop/repositories/WTFAdmin/wtf-admin/src/components/Menu/Menu.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n\nimport { useTranslation } from 'react-i18next';\nimport useLocalStorage from '../../hooks/use-localstorage';\nimport i18n from '../../i18n';\nimport { changeLanguage } from \"i18next\";\nimport LanguageSwitcher from \"../LanguageSwitcher/LanguageSwitcher\";\nimport '../Projects/projects.css'\n\nfunction Menu() {\n  useEffect(() => {\n    const menuBody = document.querySelector(\".menu__body\");\n    const iconMenu = document.querySelector(\".menu__icon\");\n\n    const handleClick = (e) => {\n      document.body.classList.toggle(\"_lock\");\n      iconMenu.classList.toggle(\"_active\");\n      menuBody.classList.toggle(\"_active\");\n    };\n\n    if (iconMenu && menuBody) {\n      iconMenu.addEventListener(\"click\", handleClick);\n    }\n\n    return () => {\n      if (iconMenu && menuBody) {\n        iconMenu.removeEventListener(\"click\", handleClick);\n      }\n    };\n  }, []);\n\n  // определение типа экрана\n  const isMobile = {\n    Android: function () {\n      return navigator.userAgent.match(/Android/i);\n    },\n    Blackberry: function () {\n      return navigator.userAgent.match(/Blackberry/i);\n    },\n    iOS: function () {\n      return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function () {\n      return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function () {\n      return navigator.userAgent.match(/IEMobile/i);\n    },\n    any: function () {\n      return (\n        isMobile.Android() ||\n        isMobile.Blackberry() ||\n        isMobile.iOS() ||\n        isMobile.Opera() ||\n        isMobile.Windows()\n      );\n    },\n  };\n\n  if (isMobile.any()) {\n    document.body.classList.add(\"_touch\");\n  } else {\n    document.body.classList.add(\"_pc\");\n  }\n  useEffect(() => {\n    const menuLinks = document.querySelectorAll('.menu__link[data-goto]');\n\n    if (menuLinks.length > 0) {\n      menuLinks.forEach(menuLink => {\n        menuLink.addEventListener('click', onMenuLinkClick);\n      });\n\n      return () => {\n        menuLinks.forEach(menuLink => {\n          menuLink.removeEventListener('click', onMenuLinkClick);\n        });\n      };\n    }\n  }, []); // Зависимость пуста, чтобы useEffect выполнялся только один раз при монтировании компонента\n\n  function onMenuLinkClick(e) {\n    const menuLink = e.target;\n    if (menuLink.dataset.goto) {\n      const gotoBlock = document.querySelector(menuLink.dataset.goto);\n      if (gotoBlock) {\n        const gotoBlockValue =\n          gotoBlock.getBoundingClientRect().top +\n          window.scrollY -\n          document.querySelector(\"header\").offsetHeight;\n\n        window.scrollTo({\n          top: gotoBlockValue,\n          behavior: \"smooth\",\n        });\n        e.preventDefault();\n      }\n    }\n  };\n\n\n  const {t, i18n} = useTranslation()\n\n\n  return (\n    <div className=\"header__menu menu\">\n      <div className=\"menu__icon\">\n        <span></span>\n      </div>\n      <nav className=\"menu__body\">\n        <ul className=\"menu__list\">\n          {/* <li>\n            <a data-goto=\".about-section\" href=\"#\" className=\"menu__link link-ease-in-out\">\n              <span className=\"highlight link-hl\">01.</span>{t('header.about')}\n            </a>\n          </li>\n          <li>\n            <a data-goto=\".work-section\" href=\"#\" className=\"menu__link link-ease-in-out\">\n              <span className=\"highlight link-hl\">02.</span>{t('header.projects')}\n            </a>\n          </li>\n          <li>\n            <a data-goto=\".contact-section\" href=\"#\" className=\"menu__link link-ease-in-out\">\n              <span className=\"highlight link-hl\">03.</span>{t('header.contact')}\n            </a>\n          </li> */}\n          <li>\n            <LanguageSwitcher i18n={i18n} />\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n}\n\nexport default Menu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import Modal from\"./Modal/Modal\";import{useValidation,useInput}from\"../hooks/use-form-validate\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPersonCircleCheck}from\"@fortawesome/free-solid-svg-icons\";import'./DragNDrop/DragDrop.js';import DragDropFile from\"./DragNDrop/DragDrop.js\";const sign=/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPersonCircleCheck,size:\"2x\",marginRight:\"10px\"});function Form(){const[modalActive,setModalActive]=useState(false);const handleSubmit=async event=>{event.preventDefault();// Предотвращаем стандартное поведение формы (перезагрузка страницы)\n// Ваши данные для отправки на сервер\nconst formData={title:title.value,link:link.value,pic:pic.value,text:text.value};try{const response=await fetch(\"path/to/your/server-script.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});if(response.ok){const data=await response.json();console.log(\"Server response:\",data);// Здесь вы можете обработать успешный ответ от сервера, если нужно\nsetModalActive(true);}else{console.error(\"Server response error:\",response.status,response.statusText);// Здесь вы можете обработать ошибку от сервера, если нужно\n}}catch(error){console.error(\"Fetch error:\",error);// Здесь вы можете обработать ошибку fetch, если нужно\n}};// form validation\nconst{t,i18n}=useTranslation();const title=useInput(\"\",{isEmpty:true,minLength:5});const link=useInput(\"\",{isEmpty:true,minLength:2});const pic=useInput(\"\",{isEmpty:true,minLength:1});const text=useInput(\"\",{isEmpty:true,minLength:2});return/*#__PURE__*/React.createElement(\"form\",{className:\"contact__form\",action:\"../database/send.php\",method:\"post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input__data\"},/*#__PURE__*/React.createElement(\"input\",{onBlur:e=>title.onBlur(e),value:title.value,onChange:e=>title.onChange(e),className:\"name__input input form__control element-animation\",type:\"text\",placeholder:t(\"post.title\"),name:\"name\",required:true}),title.isDirty&&title.isEmpty&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.empty\")),title.isDirty&&title.minLengthError&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.length\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"input__data\"},/*#__PURE__*/React.createElement(\"input\",{onBlur:e=>link.onBlur(e),value:link.value,onChange:e=>link.onChange(e),className:\"link__input input form__control element-animation\",type:\"text\",placeholder:t(\"post.link\"),name:\"link\",required:true}),link.isDirty&&link.isEmpty&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.empty\")),link.isDirty&&link.minLengthError&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.length\"))),/*#__PURE__*/React.createElement(DragDropFile,null),/*#__PURE__*/React.createElement(\"div\",{className:\"input__data\"},/*#__PURE__*/React.createElement(\"textarea\",{onBlur:e=>text.onBlur(e),value:text.value,onChange:e=>text.onChange(e),className:\"form__textarea form__control element-animation\",name:\"text\",id:\"text\",placeholder:t(\"post.text\")}),text.isDirty&&text.isEmpty&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.empty\")),text.isDirty&&text.minLengthError&&/*#__PURE__*/React.createElement(\"div\",{className:\"form__error\"},t(\"error.length\"))),/*#__PURE__*/React.createElement(\"button\",{onSubmit:handleSubmit,disabled:!title.inputValid||!link.inputValid||!pic.inputValid||!text.inputValid,onClick:()=>setModalActive(true),className:\"form__btn form__control element-animation\",type:\"submit\",name:\"submit\"},t(\"post.button\")),/*#__PURE__*/React.createElement(Modal,{active:modalActive,setActive:setModalActive},sign,/*#__PURE__*/React.createElement(\"p\",null,t(\"contact.modalThanks\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,t(\"contact.modalRequest\"))));}export default Form;","map":{"version":3,"names":["React","useEffect","useState","useTranslation","Modal","useValidation","useInput","FontAwesomeIcon","faPersonCircleCheck","DragDropFile","sign","createElement","icon","size","marginRight","Form","modalActive","setModalActive","handleSubmit","event","preventDefault","formData","title","value","link","pic","text","response","fetch","method","headers","body","JSON","stringify","ok","data","json","console","log","error","status","statusText","t","i18n","isEmpty","minLength","className","action","onBlur","e","onChange","type","placeholder","name","required","isDirty","minLengthError","id","onSubmit","disabled","inputValid","onClick","active","setActive"],"sources":["/Users/dmitriy_kuznetsov/Desktop/repositories/WTFAdmin/wtf-admin/src/components/Form.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"./Modal/Modal\";\nimport { useValidation, useInput } from \"../hooks/use-form-validate\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPersonCircleCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport './DragNDrop/DragDrop.js'\nimport DragDropFile from \"./DragNDrop/DragDrop.js\";\nconst sign = <FontAwesomeIcon icon={faPersonCircleCheck} size=\"2x\" marginRight=\"10px\"/>\n\nfunction Form() {\n  const [modalActive, setModalActive] = useState(false);\n  const handleSubmit = async (event) => {\n    event.preventDefault(); // Предотвращаем стандартное поведение формы (перезагрузка страницы)\n\n    // Ваши данные для отправки на сервер\n    const formData = {\n      title: title.value,\n      link: link.value,\n      pic: pic.value,\n      text: text.value,\n    };\n\n    try {\n      const response = await fetch(\"path/to/your/server-script.php\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"Server response:\", data);\n        // Здесь вы можете обработать успешный ответ от сервера, если нужно\n        setModalActive(true);\n      } else {\n        console.error(\"Server response error:\", response.status, response.statusText);\n        // Здесь вы можете обработать ошибку от сервера, если нужно\n      }\n    } catch (error) {\n      console.error(\"Fetch error:\", error);\n      // Здесь вы можете обработать ошибку fetch, если нужно\n    }\n  };\n\n  // form validation\n  const { t, i18n } = useTranslation();\n  const title = useInput(\"\", { isEmpty: true, minLength: 5 });\n  const link = useInput(\"\", { isEmpty: true, minLength: 2 });\n  const pic = useInput(\"\", { isEmpty: true, minLength: 1 });\n  const text = useInput(\"\", { isEmpty: true, minLength: 2 });\n\n \n\n  return (\n    <form className=\"contact__form\" action=\"../database/send.php\" method=\"post\">\n      \n      <div className=\"input__data\">\n        <input\n          onBlur={(e) => title.onBlur(e)}\n          value={title.value}\n          onChange={(e) => title.onChange(e)}\n          className=\"name__input input form__control element-animation\"\n          type=\"text\"\n          placeholder={t(\"post.title\")}\n          name=\"name\"\n          required\n        />\n        {title.isDirty && title.isEmpty && (\n          <div className=\"form__error\">{t(\"error.empty\")}</div>\n        )}\n        {title.isDirty && title.minLengthError && (\n          <div className=\"form__error\">{t(\"error.length\")}</div>\n        )}\n      </div>\n      \n      <div className=\"input__data\">\n        <input\n          onBlur={(e) => link.onBlur(e)}\n          value={link.value}\n          onChange={(e) => link.onChange(e)}\n          className=\"link__input input form__control element-animation\"\n          type=\"text\"\n          placeholder={t(\"post.link\")}\n          name=\"link\"\n          required\n        />\n        {link.isDirty && link.isEmpty && (\n          <div className=\"form__error\">{t(\"error.empty\")}</div>\n        )}\n        {link.isDirty && link.minLengthError && (\n          <div className=\"form__error\">{t(\"error.length\")}</div>\n        )}\n      </div>\n      \n      <DragDropFile/>\n      \n      <div className=\"input__data\">\n        <textarea\n          onBlur={(e) => text.onBlur(e)}\n          value={text.value}\n          onChange={(e) => text.onChange(e)}\n          className=\"form__textarea form__control element-animation\"\n          name=\"text\"\n          id=\"text\"\n          placeholder={t(\"post.text\")}\n        ></textarea>\n        {text.isDirty && text.isEmpty && (\n        <div className=\"form__error\">{t(\"error.empty\")}</div>\n        )}\n        {text.isDirty && text.minLengthError && (\n          <div className=\"form__error\">{t(\"error.length\")}</div>\n        )}\n      </div>\n\n      \n      \n      <button onSubmit={handleSubmit}\n        disabled={\n          !title.inputValid ||\n          !link.inputValid ||\n          !pic.inputValid ||\n          !text.inputValid\n        }\n        onClick={() => setModalActive(true)}\n        className=\"form__btn form__control element-animation\"\n        type=\"submit\"\n        name=\"submit\"\n      >\n        {t(\"post.button\")}\n      </button>\n      <Modal active={modalActive} setActive={setModalActive}>\n        {sign}\n        <p>\n          {t(\"contact.modalThanks\")}\n        </p>\n        <br></br>\n        <p>\n          {t(\"contact.modalRequest\")}\n        </p>\n      </Modal>\n    </form>\n  );\n}\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}